<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CardioZone Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@400;600&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0f172a; color: #f1f5f9; }
        h1, h2, h3, .brand-font { font-family: 'Teko', sans-serif; }
        
        input[type="number"]::-webkit-inner-spin-button, 
        input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        
        .fade-in { animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .heart-beat { animation: beat 1.5s infinite; }
        @keyframes beat { 0% { transform: scale(1); } 15% { transform: scale(1.2); } 30% { transform: scale(1); } 45% { transform: scale(1.2); } 60% { transform: scale(1); } }
        
        .zone-card { transition: all 0.3s ease; border: 1px solid rgba(255,255,255,0.05); }
        .zone-card:hover { transform: translateY(-2px); border-color: rgba(255,255,255,0.1); box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5); }
    </style>
</head>
<body class="min-h-screen pb-20 selection:bg-rose-500 selection:text-white">

    <nav class="border-b border-slate-800 bg-slate-900/95 backdrop-blur-md sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <span class="text-3xl heart-beat">‚ù§Ô∏è</span>
                <div>
                    <h1 class="text-2xl font-semibold tracking-wide text-white brand-font uppercase">Cardio<span class="text-rose-500">Zone</span></h1>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-4xl mx-auto px-6 mt-8 space-y-8">

        <div class="grid md:grid-cols-2 gap-4">
            <div class="bg-blue-500/10 border border-blue-500/20 p-4 rounded-xl flex items-center gap-4">
                <span class="text-3xl">üéØ</span>
                <div>
                    <h3 class="font-bold text-white text-sm uppercase">Health Goal</h3>
                    <p class="text-xs text-blue-200">Aim for 150-300 minutes of cardio per week.</p>
                </div>
            </div>
            <div class="bg-emerald-500/10 border border-emerald-500/20 p-4 rounded-xl flex items-center gap-4">
                <span class="text-3xl">‚åö</span>
                <div>
                    <h3 class="font-bold text-white text-sm uppercase">Accuracy</h3>
                    <p class="text-xs text-emerald-200">Use a chest strap or wear smartwatch for 60 days to get avg.</p>
                </div>
            </div>
        </div>

        <div class="bg-slate-900 border border-slate-800 rounded-2xl p-6 md:p-8">
            <h2 class="text-white text-xl uppercase tracking-wide brand-font mb-6 flex items-center gap-2">
                <span class="text-rose-500">1.</span> Choose Method
            </h2>

            <div class="flex gap-2 bg-slate-950 p-1 rounded-xl mb-6 overflow-x-auto">
                <button onclick="setMethod('basic')" id="tab-basic" class="flex-1 py-3 px-4 rounded-lg text-sm font-bold bg-slate-800 text-white transition-all whitespace-nowrap">
                    1Ô∏è‚É£ Basic (Age)
                </button>
                <button onclick="setMethod('karvonen_age')" id="tab-karvonen-age" class="flex-1 py-3 px-4 rounded-lg text-sm font-bold text-slate-500 hover:text-white transition-all whitespace-nowrap">
                    2Ô∏è‚É£ Karvonen (Age+RHR)
                </button>
                <button onclick="setMethod('karvonen_real')" id="tab-karvonen-real" class="flex-1 py-3 px-4 rounded-lg text-sm font-bold text-slate-500 hover:text-white transition-all whitespace-nowrap">
                    3Ô∏è‚É£ Karvonen (Real Max)
                </button>
            </div>
            
            <div class="grid md:grid-cols-3 gap-6">
                <div id="input-group-age">
                    <label class="block text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2">Your Age</label>
                    <input type="number" id="input-age" value="30" oninput="calculate()" class="w-full bg-slate-950 text-white p-4 rounded-xl border border-slate-800 focus:border-rose-500 outline-none font-bold text-2xl transition-all">
                </div>

                <div id="input-group-rhr" class="hidden">
                    <label class="block text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2">Resting HR</label>
                    <input type="number" id="input-rhr" placeholder="60" oninput="calculate()" class="w-full bg-slate-950 text-white p-4 rounded-xl border border-slate-800 focus:border-rose-500 outline-none font-bold text-2xl transition-all">
                </div>

                <div id="input-group-mhr" class="hidden">
                    <label class="block text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2">Tested Max HR</label>
                    <input type="number" id="input-mhr" placeholder="190" oninput="calculate()" class="w-full bg-slate-950 text-white p-4 rounded-xl border border-slate-800 focus:border-rose-500 outline-none font-bold text-2xl transition-all">
                </div>
            </div>

            <div id="calc-explanation" class="mt-4 text-[10px] text-slate-500 uppercase font-bold tracking-widest bg-slate-950/50 p-2 rounded-lg inline-block">
                Formula: 220 - Age = MHR
            </div>
        </div>

        <div id="results-area" class="space-y-6 fade-in">
            
            <div class="zone-card bg-gradient-to-r from-slate-900 to-slate-900 border-l-4 border-l-emerald-500 rounded-r-xl p-6 relative overflow-hidden">
                <div class="absolute right-0 top-0 text-9xl opacity-[0.03] grayscale">üö∂</div>
                <div class="relative z-10">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-2xl text-emerald-400 font-bold brand-font">L.I.S.S.</h3>
                            <p class="text-xs text-slate-400 font-bold uppercase tracking-wider">Low-Intensity Steady-State</p>
                        </div>
                        <div class="text-right">
                            <div class="text-3xl font-black text-white brand-font"><span id="liss-min">--</span> - <span id="liss-max">--</span> <span class="text-sm text-slate-500">BPM</span></div>
                            <div class="text-[10px] font-bold bg-emerald-500/20 text-emerald-400 px-2 py-1 rounded inline-block">ZONE 2 (50-70%)</div>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-4 text-sm text-slate-300">
                        <ul class="space-y-2">
                            <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span><strong>Type:</strong> Walking, incline treadmill, cycling</span></li>
                            <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span><strong>Purpose:</strong> Pure fat burning, keeping muscle</span></li>
                            <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span><strong>Timing:</strong> Fasted morning or post-workout</span></li>
                        </ul>
                        <div class="bg-slate-950/50 p-3 rounded-lg border border-slate-800">
                            <p class="text-xs text-slate-400 mb-1 font-bold uppercase">Example Workout</p>
                            <p class="text-white text-sm">30-90 min incline treadmill walk (5-6 km/h).</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="zone-card bg-gradient-to-r from-slate-900 to-slate-900 border-l-4 border-l-amber-500 rounded-r-xl p-6 relative overflow-hidden">
                <div class="absolute right-0 top-0 text-9xl opacity-[0.03] grayscale">üèÉ</div>
                <div class="relative z-10">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-2xl text-amber-500 font-bold brand-font">M.I.S.S.</h3>
                            <p class="text-xs text-slate-400 font-bold uppercase tracking-wider">Moderate-Intensity Steady-State</p>
                        </div>
                        <div class="text-right">
                            <div class="text-3xl font-black text-white brand-font"><span id="miss-min">--</span> - <span id="miss-max">--</span> <span class="text-sm text-slate-500">BPM</span></div>
                            <div class="text-[10px] font-bold bg-amber-500/20 text-amber-500 px-2 py-1 rounded inline-block">ZONE 3 (70-80%)</div>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-4 text-sm text-slate-300">
                        <ul class="space-y-2">
                            <li class="flex gap-2"><span class="text-amber-500">‚úì</span> <span><strong>Type:</strong> Jogging, swimming, rowing</span></li>
                            <li class="flex gap-2"><span class="text-amber-500">‚úì</span> <span><strong>Purpose:</strong> Fat loss + Endurance</span></li>
                            <li class="flex gap-2"><span class="text-amber-500">‚úì</span> <span><strong>Timing:</strong> Off-days or separate sessions</span></li>
                        </ul>
                        <div class="bg-slate-950/50 p-3 rounded-lg border border-slate-800">
                            <p class="text-xs text-slate-400 mb-1 font-bold uppercase">Example Workout</p>
                            <p class="text-white text-sm">30 min cycling at moderate intensity.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="zone-card bg-gradient-to-r from-slate-900 to-slate-900 border-l-4 border-l-rose-600 rounded-r-xl p-6 relative overflow-hidden">
                <div class="absolute right-0 top-0 text-9xl opacity-[0.03] grayscale">üî•</div>
                <div class="relative z-10">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-2xl text-rose-500 font-bold brand-font">H.I.I.T.</h3>
                            <p class="text-xs text-slate-400 font-bold uppercase tracking-wider">Fat Loss Accelerator</p>
                        </div>
                        <div class="text-right">
                            <div class="text-3xl font-black text-white brand-font"><span id="hiit-min">--</span> + <span class="text-sm text-slate-500">BPM</span></div>
                            <div class="text-[10px] font-bold bg-rose-500/20 text-rose-500 px-2 py-1 rounded inline-block">ZONE 5 (80-100%)</div>
                        </div>
                    </div>
                    
                    <div class="space-y-4 text-sm text-slate-300">
                        <div class="flex gap-4 mb-2">
                            <div class="flex-1 bg-slate-950/30 p-2 rounded border border-slate-800">
                                <span class="block text-rose-500 font-bold text-xs uppercase">Type</span>
                                Sprints, Ropes, Sled
                            </div>
                            <div class="flex-1 bg-slate-950/30 p-2 rounded border border-slate-800">
                                <span class="block text-rose-500 font-bold text-xs uppercase">Limit</span>
                                1-2x per week max
                            </div>
                        </div>

                        <div class="bg-rose-500/10 border border-rose-500/20 rounded-xl p-4">
                            <h4 class="text-rose-400 font-bold uppercase text-xs mb-3 tracking-widest">ü¶Å The Protocol</h4>
                            <ol class="space-y-3 relative border-l border-rose-500/30 ml-2 pl-4">
                                <li>
                                    <span class="text-white font-bold block">1. Warm Up</span>
                                    <span class="text-xs text-rose-200">5 mins light jog + Dynamic Stretches.</span>
                                </li>
                                <li>
                                    <span class="text-white font-bold block">2. The Sprint (30s)</span>
                                    <span class="text-xs text-rose-200">High intensity. Run like a lion is chasing you.</span>
                                </li>
                                <li>
                                    <span class="text-white font-bold block">3. The Rest (60s)</span>
                                    <span class="text-xs text-rose-200">Walk/Slow movement. Recover.</span>
                                </li>
                                <li>
                                    <span class="text-white font-bold block">4. Repeat</span>
                                    <span class="text-xs text-rose-200">Do 3 to 10 cycles.</span>
                                </li>
                                <li>
                                    <span class="text-white font-bold block">5. Cool Down</span>
                                    <span class="text-xs text-rose-200">2-3 mins walking.</span>
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-slate-900 border border-slate-800 rounded-xl p-6 flex flex-col md:flex-row items-center gap-6">
                 <div class="text-4xl">üëü</div>
                 <div class="flex-1">
                     <h3 class="text-lg text-white font-bold brand-font uppercase">The 10,000 Step Approach</h3>
                     <p class="text-xs text-slate-400 mb-2">Low-Stress Daily Movement</p>
                     <p class="text-sm text-slate-300">Popular for staying lean without fatigue. Aim for <strong>8,000 - 12,000 steps</strong> (4-6km) spread throughout the day.</p>
                 </div>
            </div>

        </div>

    </div>

    <script>
        let method = 'basic'; // basic, karvonen_age, karvonen_real

        function setMethod(m) {
            method = m;
            
            // Reset styles
            document.getElementById('tab-basic').className = "flex-1 py-3 px-4 rounded-lg text-sm font-bold text-slate-500 hover:text-white transition-all whitespace-nowrap";
            document.getElementById('tab-karvonen-age').className = "flex-1 py-3 px-4 rounded-lg text-sm font-bold text-slate-500 hover:text-white transition-all whitespace-nowrap";
            document.getElementById('tab-karvonen-real').className = "flex-1 py-3 px-4 rounded-lg text-sm font-bold text-slate-500 hover:text-white transition-all whitespace-nowrap";

            // Set active style
            if(m === 'basic') {
                document.getElementById('tab-basic').className = "flex-1 py-3 px-4 rounded-lg text-sm font-bold bg-slate-800 text-white transition-all whitespace-nowrap";
                toggleInputs(true, false, false);
                updateExplanation("Formula: 220 - Age = MHR (Simple)");
            } else if (m === 'karvonen_age') {
                document.getElementById('tab-karvonen-age').className = "flex-1 py-3 px-4 rounded-lg text-sm font-bold bg-slate-800 text-white transition-all whitespace-nowrap";
                toggleInputs(true, true, false);
                updateExplanation("Formula: ((220 - Age - RHR) √ó %) + RHR");
            } else {
                document.getElementById('tab-karvonen-real').className = "flex-1 py-3 px-4 rounded-lg text-sm font-bold bg-slate-800 text-white transition-all whitespace-nowrap";
                toggleInputs(false, true, true);
                updateExplanation("Formula: ((Tested Max - RHR) √ó %) + RHR");
            }
            calculate();
        }

        function toggleInputs(showAge, showRhr, showMhr) {
            document.getElementById('input-group-age').classList.toggle('hidden', !showAge);
            document.getElementById('input-group-rhr').classList.toggle('hidden', !showRhr);
            document.getElementById('input-group-mhr').classList.toggle('hidden', !showMhr);
        }

        function updateExplanation(text) {
            document.getElementById('calc-explanation').innerText = text;
        }

        function calculate() {
            const age = parseFloat(document.getElementById('input-age').value);
            const rhr = parseFloat(document.getElementById('input-rhr').value);
            const mhrInput = parseFloat(document.getElementById('input-mhr').value);

            let maxHeartRate = 0;
            let heartRateReserve = 0;
            let useReserve = false;

            // 1. Determine Max Heart Rate & Logic
            if (method === 'basic') {
                if (!age) return;
                maxHeartRate = 220 - age;
                useReserve = false;
            } else if (method === 'karvonen_age') {
                if (!age || !rhr) return;
                maxHeartRate = 220 - age;
                heartRateReserve = maxHeartRate - rhr;
                useReserve = true;
            } else if (method === 'karvonen_real') {
                if (!mhrInput || !rhr) return;
                maxHeartRate = mhrInput;
                heartRateReserve = maxHeartRate - rhr;
                useReserve = true;
            }

            // 2. Calculate Zones
            // LISS: 50-70%
            // MISS: 70-80%
            // HIIT: 80-100%

            const zones = {
                liss: { min: 0.50, max: 0.70 },
                miss: { min: 0.70, max: 0.80 },
                hiit: { min: 0.80, max: 1.00 }
            };

            updateZoneDisplay('liss', zones.liss, maxHeartRate, heartRateReserve, rhr, useReserve);
            updateZoneDisplay('miss', zones.miss, maxHeartRate, heartRateReserve, rhr, useReserve);
            updateZoneDisplay('hiit', zones.hiit, maxHeartRate, heartRateReserve, rhr, useReserve);
        }

        function updateZoneDisplay(idPrefix, range, mhr, hrr, rhr, useReserve) {
            let valMin, valMax;

            if (useReserve) {
                // Karvonen: (HRR * %) + RHR
                valMin = Math.round((hrr * range.min) + rhr);
                valMax = Math.round((hrr * range.max) + rhr);
            } else {
                // Basic: MHR * %
                valMin = Math.round(mhr * range.min);
                valMax = Math.round(mhr * range.max);
            }

            document.getElementById(`${idPrefix}-min`).innerText = valMin;
            if(document.getElementById(`${idPrefix}-max`)) {
                document.getElementById(`${idPrefix}-max`).innerText = valMax;
            }
        }
        
        // Init
        calculate();

    </script>
</body>
</html>