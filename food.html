<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nutrition Architect</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@400;600&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0f172a; color: #f1f5f9; }
        h1, h2, h3, .brand-font { font-family: 'Teko', sans-serif; }
        
        input[type="number"]::-webkit-inner-spin-button, 
        input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .toggle-checkbox:checked { right: 0; border-color: #10b981; }
        .toggle-checkbox:checked + .toggle-label { background-color: #10b981; }
        
        /* Accordion Styles */
        .accordion-content { transition: max-height 0.3s ease-out; max-height: 0; overflow: hidden; }
        .accordion-open { max-height: 500px; }
    </style>
</head>
<body class="min-h-screen pb-20 selection:bg-emerald-500 selection:text-slate-900">

    <nav class="border-b border-slate-800 bg-slate-900/95 backdrop-blur-md sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <span class="text-3xl">ü•ë</span>
                <div>
                    <h1 class="text-2xl font-semibold tracking-wide text-white brand-font uppercase">Nutrition<span class="text-emerald-500">Architect</span></h1>
                    <p class="text-[10px] text-slate-400 uppercase tracking-widest font-sans">Mirror > Scales</p>
                </div>
            </div>
             <div class="bg-slate-800 p-1 rounded-lg flex text-xs font-bold border border-slate-700">
                <button onclick="setUnit('kg')" id="btn-kg" class="px-3 py-1.5 rounded-md transition-all bg-emerald-500 text-slate-900 shadow">KG</button>
                <button onclick="setUnit('lbs')" id="btn-lbs" class="px-3 py-1.5 rounded-md transition-all text-slate-400 hover:text-white">LBS</button>
            </div>
        </div>
    </nav>

    <div class="max-w-4xl mx-auto px-6 mt-8 space-y-8">

        <div class="bg-gradient-to-r from-slate-900 to-slate-800 border-l-4 border-emerald-500 rounded-r-xl p-6 shadow-lg">
            <h3 class="text-emerald-400 font-bold uppercase text-sm mb-2 flex items-center gap-2">üéöÔ∏è The Philosophy</h3>
            <p class="text-slate-300 text-sm leading-relaxed">
                <span class="text-white font-bold">Don't worship the scales.</span> Worship the mirror and the barbell. Muscle is denser than fat, so the scale might not change, but your physique will.
            </p>
        </div>

        <div class="bg-slate-900 border border-slate-800 rounded-2xl p-6 md:p-8">
            <h2 class="text-white text-xl uppercase tracking-wide brand-font mb-6 flex items-center gap-2">
                <span class="text-emerald-500">1.</span> Your Stats
            </h2>

            <div class="flex gap-4 mb-6">
                <button onclick="setGender('male')" id="btn-male" class="flex-1 py-3 rounded-xl border border-emerald-500 bg-emerald-500/10 text-emerald-400 font-bold transition-all">Male</button>
                <button onclick="setGender('female')" id="btn-female" class="flex-1 py-3 rounded-xl border border-slate-700 bg-slate-800 text-slate-400 font-bold hover:bg-slate-700 transition-all">Female</button>
            </div>
            
            <div class="grid md:grid-cols-3 gap-6 mb-6">
                <div>
                    <label class="block text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-1">Weight</label>
                    <div class="relative">
                        <input type="number" id="input-weight" placeholder="80" class="w-full bg-slate-950 text-white p-3 rounded-xl border border-slate-800 focus:border-emerald-500 outline-none font-bold text-lg">
                        <span class="absolute right-3 top-4 text-xs font-bold text-slate-600 unit-label">KG</span>
                    </div>
                </div>
                <div>
                    <label class="block text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-1">Height</label>
                    <div class="relative">
                        <input type="number" id="input-height" placeholder="180" class="w-full bg-slate-950 text-white p-3 rounded-xl border border-slate-800 focus:border-emerald-500 outline-none font-bold text-lg">
                        <span class="absolute right-3 top-4 text-xs font-bold text-slate-600 unit-height">CM</span>
                    </div>
                </div>
                <div>
                    <label class="block text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-1">Age</label>
                    <input type="number" id="input-age" placeholder="30" class="w-full bg-slate-950 text-white p-3 rounded-xl border border-slate-800 focus:border-emerald-500 outline-none font-bold text-lg">
                </div>
            </div>

            <div class="mb-6">
                <label class="block text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2">Activity Level</label>
                <select id="input-activity" class="w-full bg-slate-950 text-white p-3 rounded-xl border border-slate-800 focus:border-emerald-500 outline-none font-bold text-sm appearance-none">
                    <option value="1.2">Sedentary (Office job, no exercise)</option>
                    <option value="1.375" selected>Lightly Active (1-3 days/week)</option>
                    <option value="1.55">Moderately Active (3-5 days/week)</option>
                    <option value="1.725">Very Active (6-7 days/week)</option>
                    <option value="1.9">Super Active (Physical job + training)</option>
                </select>
            </div>

            <div>
                <label class="block text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2">Current Phase</label>
                <div class="grid grid-cols-3 gap-2">
                    <button onclick="setGoal('cut')" id="goal-cut" class="goal-btn py-3 rounded-xl bg-slate-800 text-slate-400 font-bold text-sm border border-slate-700 transition-all hover:text-white">‚úÇÔ∏è Cut</button>
                    <button onclick="setGoal('maintain')" id="goal-maintain" class="goal-btn py-3 rounded-xl bg-emerald-500 text-slate-900 font-bold text-sm border border-emerald-500 transition-all shadow-lg">‚öì Maintain</button>
                    <button onclick="setGoal('bulk')" id="goal-bulk" class="goal-btn py-3 rounded-xl bg-slate-800 text-slate-400 font-bold text-sm border border-slate-700 transition-all hover:text-white">üí™ Bulk</button>
                </div>
                <p id="goal-desc" class="mt-2 text-xs text-emerald-400 font-mono text-center">Recomposition / Holding Steady</p>
            </div>

            <button onclick="calculateMacros()" class="w-full mt-8 bg-white hover:bg-slate-200 text-slate-900 font-bold py-4 rounded-xl transition-all shadow-lg uppercase tracking-widest text-sm">
                Generate Plan
            </button>
        </div>

        <div id="results-panel" class="hidden space-y-8 fade-in">
            
            <div class="bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 rounded-2xl p-8 text-center relative overflow-hidden">
                <div class="absolute top-0 right-0 w-64 h-64 bg-emerald-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
                <p class="text-slate-400 text-xs font-bold uppercase tracking-widest mb-2">Daily Fuel Target</p>
                <div class="flex justify-center items-baseline gap-2">
                    <span id="res-cals" class="text-6xl font-black text-white brand-font tracking-tight">--</span>
                    <span class="text-xl text-emerald-500 font-bold">KCAL</span>
                </div>
                <div id="res-adjustment" class="mt-2 text-xs font-mono text-slate-500">Maintenance Calories</div>
            </div>

            <div class="grid md:grid-cols-3 gap-4">
                <div class="bg-slate-900 border border-slate-800 p-5 rounded-xl">
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-2xl">üçó</span>
                        <span class="text-[10px] font-bold px-2 py-1 rounded bg-slate-800 text-slate-400">MUSCLE</span>
                    </div>
                    <div class="text-white font-bold text-3xl brand-font"><span id="res-protein">--</span>g</div>
                    <p class="text-[10px] text-slate-500 uppercase font-bold mt-1">1.7g - 2.2g per KG</p>
                </div>
                 <div class="bg-slate-900 border border-slate-800 p-5 rounded-xl">
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-2xl">ü•ë</span>
                        <span class="text-[10px] font-bold px-2 py-1 rounded bg-slate-800 text-slate-400">HORMONES</span>
                    </div>
                    <div class="text-white font-bold text-3xl brand-font"><span id="res-fat">--</span>g</div>
                    <p id="label-fat-range" class="text-[10px] text-slate-500 uppercase font-bold mt-1">0.7g - 1.2g per KG</p>
                </div>
                 <div class="bg-slate-900 border border-slate-800 p-5 rounded-xl">
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-2xl">üçû</span>
                        <span class="text-[10px] font-bold px-2 py-1 rounded bg-slate-800 text-slate-400">FUEL</span>
                    </div>
                    <div class="text-white font-bold text-3xl brand-font"><span id="res-carbs">--</span>g</div>
                    <p class="text-[10px] text-slate-500 uppercase font-bold mt-1">Fills the rest</p>
                </div>
            </div>
            
            <div id="strategy-card" class="bg-emerald-500/10 border border-emerald-500/20 rounded-xl p-6">
                <h3 id="strategy-title" class="text-emerald-400 font-bold uppercase text-sm mb-3 tracking-widest">Strategy: Maintenance</h3>
                <ul id="strategy-list" class="space-y-3 text-sm text-slate-300">
                    </ul>
            </div>
            
            <div class="space-y-4">
                 <h3 class="text-white font-bold brand-font text-xl flex items-center gap-2"><span class="text-amber-500">üíä</span> The Supplement Tier List</h3>
                 
                 <div class="bg-slate-900 border border-slate-800 rounded-xl overflow-hidden">
                     <div class="bg-emerald-500/20 p-3 border-b border-emerald-500/30 flex justify-between items-center">
                         <span class="text-emerald-400 font-bold text-sm uppercase tracking-wide">üëë The Only Must-Have</span>
                         <span class="text-[10px] bg-slate-900 text-slate-400 px-2 py-1 rounded">Essential</span>
                     </div>
                     <div class="p-4">
                         <div class="flex justify-between items-center">
                             <div>
                                 <h4 class="text-white font-bold">Creatine Monohydrate</h4>
                                 <p class="text-xs text-slate-400 mt-1">Cheap. Works. Not steroids. 5g every day, forever.</p>
                             </div>
                             <div class="text-2xl">‚ö™</div>
                         </div>
                     </div>
                 </div>

                 <div class="bg-slate-900 border border-slate-800 rounded-xl overflow-hidden">
                    <div class="bg-slate-800 p-3 border-b border-slate-700 flex justify-between items-center">
                        <span class="text-slate-300 font-bold text-sm uppercase tracking-wide">üòê Nice to Have (If Needed)</span>
                        <span class="text-[10px] bg-slate-900 text-slate-500 px-2 py-1 rounded">Optional</span>
                    </div>
                    <div class="divide-y divide-slate-800">
                        <div class="p-4 flex gap-4">
                            <span class="text-xl">üçó</span>
                            <div>
                                <h4 class="text-white font-bold text-sm">Protein Powder</h4>
                                <p class="text-xs text-slate-500">Pure convenience. Easier than cooking chicken post-work.</p>
                            </div>
                        </div>
                        <div class="p-4 flex gap-4">
                            <span class="text-xl">‚ö°</span>
                            <div>
                                <h4 class="text-white font-bold text-sm">Electrolytes</h4>
                                <p class="text-xs text-slate-500">Only if you sweat a lot. Salt + Water does the trick too.</p>
                            </div>
                        </div>
                        <div class="p-4 flex gap-4">
                            <span class="text-xl">üíä</span>
                            <div>
                                <h4 class="text-white font-bold text-sm">Vitamins D3</h4>
                                <p class="text-xs text-slate-500">Take a blood test first. Don't guess. Adjust diet first.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="bg-slate-900 border border-slate-800 rounded-xl p-6">
            <h3 class="text-slate-400 font-bold uppercase text-xs mb-4 tracking-widest">Approved Food Sources</h3>
            <div class="flex flex-wrap gap-2">
                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300">ü•© Meat</span>
                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300">üêü Fish</span>
                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300">ü•ö Eggs</span>
                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300">ü•¶ Veg</span>
                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300">üçì Fruit</span>
                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300">üçö Rice</span>
                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300">ü•î Potato</span>
                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300">ü•ú Nuts</span>
                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300">ü•• Healthy Fats</span>
                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300">ü•õ Dairy</span>
                <span class="px-3 py-1 bg-slate-800 rounded-full text-xs text-slate-300">üçµ Tea/Water</span>
            </div>
             <p class="mt-4 text-xs text-slate-500 italic">"If you eat junk food but hit calories, you'll hit weight targets... but you'll run like a car with sunflower oil."</p>
        </div>

    </div>

    <script>
        let gender = 'male';
        let goal = 'maintain';
        let unit = 'kg';

        function setUnit(u) {
            unit = u;
            document.querySelectorAll('.unit-label').forEach(e => e.innerText = u.toUpperCase());
            document.querySelector('.unit-height').innerText = u === 'kg' ? 'CM' : 'IN';
            
            if (u === 'kg') {
                document.getElementById('btn-kg').className = "px-3 py-1.5 rounded-md transition-all bg-emerald-500 text-slate-900 shadow";
                document.getElementById('btn-lbs').className = "px-3 py-1.5 rounded-md transition-all text-slate-400 hover:text-white";
                document.getElementById('input-height').placeholder = "180";
            } else {
                document.getElementById('btn-lbs').className = "px-3 py-1.5 rounded-md transition-all bg-emerald-500 text-slate-900 shadow";
                document.getElementById('btn-kg').className = "px-3 py-1.5 rounded-md transition-all text-slate-400 hover:text-white";
                document.getElementById('input-height').placeholder = "71";
            }
        }

        function setGender(g) {
            gender = g;
            if(g === 'male') {
                document.getElementById('btn-male').className = "flex-1 py-3 rounded-xl border border-emerald-500 bg-emerald-500/10 text-emerald-400 font-bold transition-all";
                document.getElementById('btn-female').className = "flex-1 py-3 rounded-xl border border-slate-700 bg-slate-800 text-slate-400 font-bold hover:bg-slate-700 transition-all";
                document.getElementById('label-fat-range').innerText = "0.7g - 1.2g per KG";
            } else {
                document.getElementById('btn-female').className = "flex-1 py-3 rounded-xl border border-emerald-500 bg-emerald-500/10 text-emerald-400 font-bold transition-all";
                document.getElementById('btn-male').className = "flex-1 py-3 rounded-xl border border-slate-700 bg-slate-800 text-slate-400 font-bold hover:bg-slate-700 transition-all";
                document.getElementById('label-fat-range').innerText = "1.0g - 1.5g per KG";
            }
        }

        function setGoal(g) {
            goal = g;
            document.querySelectorAll('.goal-btn').forEach(btn => {
                btn.className = "goal-btn py-3 rounded-xl bg-slate-800 text-slate-400 font-bold text-sm border border-slate-700 transition-all hover:text-white";
            });
            
            const activeClass = "goal-btn py-3 rounded-xl bg-emerald-500 text-slate-900 font-bold text-sm border border-emerald-500 transition-all shadow-lg";
            
            let desc = "";
            if (g === 'cut') {
                document.getElementById('goal-cut').className = activeClass;
                desc = "Fat Loss Priority (-350 kcal)";
            } else if (g === 'maintain') {
                document.getElementById('goal-maintain').className = activeClass;
                desc = "Recomposition / Holding Steady";
            } else {
                document.getElementById('goal-bulk').className = activeClass;
                desc = "Muscle Gain Priority (+300 kcal)";
            }
            document.getElementById('goal-desc').innerText = desc;
        }

        function calculateMacros() {
            let weight = parseFloat(document.getElementById('input-weight').value);
            let height = parseFloat(document.getElementById('input-height').value);
            let age = parseFloat(document.getElementById('input-age').value);
            let activity = parseFloat(document.getElementById('input-activity').value);

            if(!weight || !height || !age) { alert("Please fill in all stats."); return; }

            // Conversion
            if (unit === 'lbs') {
                weight = weight * 0.453592;
                height = height * 2.54;
            }

            // Mifflin-St Jeor Formula
            let bmr = (10 * weight) + (6.25 * height) - (5 * age);
            if(gender === 'male') bmr += 5;
            else bmr -= 161;

            let tdee = bmr * activity;

            // Goal Adjustment
            let targetCals = tdee;
            if(goal === 'cut') targetCals -= 350; // Conservative cut
            if(goal === 'bulk') targetCals += 300; // Lean bulk

            // MACRO MATH
            // 1. Protein: 2g per kg (Middle of 1.7-2.2 range)
            let protein = weight * 2.0;
            
            // 2. Fat: Gender dependent
            // Male: 0.9g (Mid of 0.7-1.2)
            // Female: 1.25g (Mid of 1.0-1.5)
            let fatMult = gender === 'male' ? 0.9 : 1.25;
            let fat = weight * fatMult;

            // 3. Carbs: The Rest
            let proteinCals = protein * 4;
            let fatCals = fat * 9;
            let usedCals = proteinCals + fatCals;
            let remainingCals = targetCals - usedCals;
            let carbs = remainingCals / 4;

            // Render
            document.getElementById('results-panel').classList.remove('hidden');
            
            document.getElementById('res-cals').innerText = Math.round(targetCals);
            document.getElementById('res-protein').innerText = Math.round(protein);
            document.getElementById('res-fat').innerText = Math.round(fat);
            document.getElementById('res-carbs').innerText = Math.round(carbs);
            
            // Strategy Text
            let stratList = document.getElementById('strategy-list');
            let stratTitle = document.getElementById('strategy-title');
            stratList.innerHTML = '';
            
            if(goal === 'cut') {
                stratTitle.innerText = "Strategy: Fat Loss Phase";
                document.getElementById('res-adjustment').innerText = "Deficit: -350 kcal";
                stratList.innerHTML = `
                    <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span>Aim for 0.25-0.5kg loss per week.</span></li>
                    <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span><strong>Re-feed:</strong> Every 14 days, increase carbs for one day.</span></li>
                    <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span>If losing weight too fast, slow down. Don't lose muscle.</span></li>
                    <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span>Duration: 8-16 weeks max, then Maintain.</span></li>
                `;
            } else if (goal === 'bulk') {
                stratTitle.innerText = "Strategy: Muscle Gain Phase";
                document.getElementById('res-adjustment').innerText = "Surplus: +300 kcal";
                stratList.innerHTML = `
                    <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span>Aim for 0.25-0.5kg gain per week.</span></li>
                    <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span>Gaining too fast? You're just getting fat. Slow down.</span></li>
                    <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span>Duration: 3-6 months, then Maintain.</span></li>
                `;
            } else {
                stratTitle.innerText = "Strategy: Maintenance / Recomp";
                document.getElementById('res-adjustment').innerText = "Maintenance Calories";
                stratList.innerHTML = `
                    <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span>Eat roughly what you burn.</span></li>
                    <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span>Focus on lifting performance (more weight/reps).</span></li>
                    <li class="flex gap-2"><span class="text-emerald-500">‚úì</span> <span>Duration: 2-8 weeks to recover from diet fatigue.</span></li>
                `;
            }
        }
    </script>
</body>
</html>